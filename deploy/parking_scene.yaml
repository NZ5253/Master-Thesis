# parking_scene.yaml
# Bay calibrated from MoCap on 2026-02-25 15:29:11
# Car was placed at bay center and position was averaged over 20 readings.
#
# To recalibrate: place car at parking spot, run:
#   python deploy/rl_parking_node.py --calibrate --checkpoint <any_checkpoint>

bay:
  center_x: -0.8834
  center_y: -0.2651
  yaw: 0.155
  goal_offset_along: -0.020  # shift goal 2cm toward curb: car parks slightly away from opening neighbor
vehicle:
  length: 0.13
  width: 0.065
  wheelbase: 0.09
  rear_overhang: 0.02
  max_steer: 0.35
  max_vel: 0.5
  max_acc: 0.5
obstacles:
  neighbor:
    w: 0.13
    h: 0.065
    offset: 0.194
    pos_jitter: 0.0
    curb_gap: 0.018
    curb_thickness: 0.014
  random:
    num_min: 0
    num_max: 0
world:
  x_min: -1.25
  x_max: 1.25
  y_min: -1.25
  y_max: 1.25
safety:
  max_torque: 0.15
  max_steer: 0.35
  max_torque_rate: 0.1
  max_steer_rate: 0.5
  stale_timeout: 0.3
success:
  along_tol: 0.055    # loosened from 0.043: car failed at exactly -0.043 (boundary)
  lateral_tol: 0.055  # loosened from 0.043: same reason
  yaw_tol: 0.15
  v_tol: 0.05
  settled_steps: 3    # reduced from 5: hardware oscillation makes 5 consecutive steps unrealistic
calibration:
  velocity_gain: 1.503
  steer_gain: 1.376
torque_mapping:
  a_torque: 6.44026018
  b_torque: 0.13732343
